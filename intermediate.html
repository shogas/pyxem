<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Intermediate &#8212; pyXem 0.6 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced Usage" href="advanced.html" />
    <link rel="prev" title="Basics" href="basics.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          pyXem</a>
        <span class="navbar-text navbar-version pull-left"><b>0.6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contents.html">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Intermediate</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="literature_use_cases.html">Use Cases in the Literature</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Intermediate</a><ul>
<li><a class="reference internal" href="#post-facto-imaging">Post-facto Imaging</a></li>
<li><a class="reference internal" href="#unsupervised-machine-learning">Unsupervised Machine Learning</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="basics.html" title="Previous Chapter: Basics"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Basics</span>
    </a>
  </li>
  <li>
    <a href="advanced.html" title="Next Chapter: Advanced Usage"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Advanced Usage &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="intermediate">
<h1>Intermediate<a class="headerlink" href="#intermediate" title="Permalink to this headline">¶</a></h1>
<div class="section" id="post-facto-imaging">
<h2>Post-facto Imaging<a class="headerlink" href="#post-facto-imaging" title="Permalink to this headline">¶</a></h2>
<p>‘Virtual’ images are formed post-facto from scanning electron diffraction data
by plotting the scattered intensity in a subset of pixels in the diffraction
plane as a function of probe position. This is achieved by specifying a region
of interest (roi) in the diffraction plane within which intensity is summed.</p>
<p>Post-facto imaging can be performed interactively, as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dp</span> <span class="o">=</span> <span class="n">pxm</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;nanowire_precession.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi</span> <span class="o">=</span> <span class="n">pxm</span><span class="o">.</span><span class="n">roi</span><span class="o">.</span><span class="n">CircleROI</span><span class="p">(</span><span class="n">cx</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span><span class="n">cy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r_inner</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.07</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dp</span><span class="o">.</span><span class="n">plot_interactive_virtual_image</span><span class="p">(</span><span class="n">roi</span><span class="o">=</span><span class="n">roi</span><span class="p">)</span>
</pre></div>
</div>
<p>Note: It is important to ensure that the SED data is well aligned when interpreting
contrast in virtual images.</p>
<p>Virtual images are typically formed to obtain diffraction contrast. A virtual
bright-field (VBF) image is formed by plotting the intensity within a disk positioned
at the centre of the diffraction pattern, around the direct beam. Virtual dark-field
(VDF) images are formed by plotting the intensity within pixels not containing the
direct beam. This integration window may typically be either an annulus positioned
around the centre of the diffraction pattern, or a disk centered on a particular
diffracted beam. Examples of such virtual images are shown below.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/vdf_example.png"><img alt="_images/vdf_example.png" src="_images/vdf_example.png" style="width: 600px;" /></a>
</div>
</div>
<div class="section" id="unsupervised-machine-learning">
<h2>Unsupervised Machine Learning<a class="headerlink" href="#unsupervised-machine-learning" title="Permalink to this headline">¶</a></h2>
<p>Unsupervised machine learning algorithms may be applied to SED as a route to
obtain representative “component diffraction patterns” and their respective
“loadings” in real space. These methods involve unfolding each diffraction
pattern into an image vector and stacking these vectors together to construct a
data matrix, which is then factorized:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/ml_sed_scheme.png"><img alt="_images/ml_sed_scheme.png" src="_images/ml_sed_scheme.png" style="width: 600px;" /></a>
</div>
<p>Various matrix decomposition methods are available through the decomposition()
method, which is inherited directy from HyperSpy and is documented
<a class="reference external" href="http://hyperspy.org/hyperspy-doc/current/user_guide/mva.html">here</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dp</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright Copyright 2017-2018, Python Crystallographic Electron Microscopy.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.8.<br/>
    </p>
  </div>
</footer>
  </body>
</html>